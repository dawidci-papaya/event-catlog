import{_}from"./ViewLayoutSection.vue.C7uYvVUG.js";import{d as x,M as k,b as v,K as y,av as C,o,q as r,e as c,k as u,w as m,f as p,u as l,D as h,$ as V,x as w,P as z,aw as B,s as $,F as E,J as I}from"./_OpenAPI.P2waDejs.js";import"./jsx-runtime.B8R7zBj2.js";import"./index.GM20xmA1.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./preload-helper.CLcXU_4U.js";import"./index.z6vorqh-.js";import"./floating-ui.dom.DfmbYluP.js";/* empty css                       */const D={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},j={class:"has-[:focus-visible]:bg-b-1 z-1 group relative flex flex-col rounded-lg"},N={class:"h-full min-h-[calc(1rem*4)]"},P={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},F=x({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(g,{emit:s}){const d=s,t=k("preview"),i=k(null);return y(t,a=>{a==="edit"&&C(()=>{var e;(e=i.value)==null||e.focus()})}),(a,e)=>(o(),v("div",D,[r("div",M,[e[6]||(e[6]=r("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(o(),c(l(V),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",type:"button",size:"sm",variant:"outlined",onClick:e[0]||(e[0]=n=>t.value="edit")},{default:m(()=>[p(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[5]||(e[5]=r("span",null,"Edit",-1))]),_:1})):u("",!0)]),r("div",j,[r("div",N,[t.value==="preview"?(o(),v(w,{key:0},[a.modelValue?(o(),v(w,{key:0},[a.modelValue?(o(),c(l(z),{key:0,withImages:"",class:"hover:border-b-3 h-full rounded border border-transparent p-1.5",value:a.modelValue,onDblclick:e[1]||(e[1]=n=>t.value="edit")},null,8,["value"])):u("",!0),e[7]||(e[7]=r("div",{class:"brightness-lifted -z-1 bg-b-1 absolute inset-0 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(o(),v("div",P,[p(l(V),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",variant:"ghost",size:"sm",onClick:e[2]||(e[2]=n=>t.value="edit")},{default:m(()=>[p(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[8]||(e[8]=r("span",null,"Write a description",-1))]),_:1})]))],64)):u("",!0),t.value==="edit"?(o(),c(B,{key:1,ref_key:"codeInputRef",ref:i,class:"h-full border px-0.5 py-0",modelValue:a.modelValue,environment:a.environment,envVariables:a.envVariables,workspace:a.workspace,onBlur:e[3]||(e[3]=n=>t.value="preview"),"onUpdate:modelValue":e[4]||(e[4]=n=>d("update:modelValue",n))},null,8,["modelValue","environment","envVariables","workspace"])):u("",!0)])])]))}}),U=$(F,[["__scopeId","data-v-139eac35"]]),L=x({__name:"CollectionOverview",setup(g){const{activeCollection:s,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:i}=E(),{collectionMutators:a}=I(),e=n=>{s.value&&a.edit(s.value.uid,"info.description",n)};return(n,W)=>(o(),c(_,null,{default:m(()=>{var f,b;return[l(d)&&l(i)?(o(),c(U,{key:0,environment:l(d),envVariables:l(t),workspace:l(i),modelValue:((b=(f=l(s))==null?void 0:f.info)==null?void 0:b.description)??"","onUpdate:modelValue":e},null,8,["environment","envVariables","workspace","modelValue"])):u("",!0)]}),_:1}))}});export{L as default};
